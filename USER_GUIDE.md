# ProEdit MVP - ユーザーガイド

**バージョン**: 1.0.0
**最終更新**: 2024年10月15日

---

## 📖 目次

1. [はじめに](#-はじめに)
2. [認証](#-認証)
3. [プロジェクト管理](#-プロジェクト管理)
4. [メディアアップロード](#-メディアアップロード)
5. [タイムライン編集](#-タイムライン編集)
6. [テキストオーバーレイ](#-テキストオーバーレイ)
7. [プレビューと再生](#-プレビューと再生)
8. [動画エクスポート](#-動画エクスポート)
9. [自動保存と復元](#-自動保存と復元)
10. [キーボードショートカット](#-キーボードショートカット)
11. [トラブルシューティング](#-トラブルシューティング)

---

## 🚀 はじめに

### システム要件

- **ブラウザ**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **RAM**: 最小4GB (4Kエクスポートには8GB推奨)
- **ストレージ**: 一時ファイル用に1GB以上の空き容量

### 初回起動

1. ProEditアプリケーションのURLにアクセス
2. **「Googleでサインイン」**をクリック
3. 必要な権限を付与
4. ダッシュボードにリダイレクトされます

---

## 🔐 認証

### サインイン

- ProEditはGoogle OAuthを使用した安全な認証を採用
- パスワード不要 - Googleアカウントがセキュリティを管理
- すべてのプロジェクトはあなたのアカウント専用

### サインアウト

- 右上のプロフィールアバターをクリック
- **「サインアウト」**を選択
- ログインページにリダイレクトされます

---

## 📁 プロジェクト管理

### 新規プロジェクトの作成

1. ダッシュボードで**「新規プロジェクト」**をクリック
2. プロジェクト名を入力
3. プロジェクト設定を選択:
   - **解像度**: 1920x1080 (デフォルト), 1280x720, 3840x2160
   - **フレームレート**: 30fps (デフォルト), 24fps, 60fps
4. **「プロジェクトを作成」**をクリック

### プロジェクトを開く

- ダッシュボードから任意のプロジェクトカードをクリック
- プロジェクトは5秒ごとに自動保存
- 各カードに最終更新日時が表示されます

### プロジェクトの削除

1. プロジェクトカードの**「⋮」**メニューをクリック
2. **「削除」**を選択
3. 削除を確認 (この操作は取り消せません)

---

## 📱 メディアアップロード

### サポートされている形式

- **動画**: MP4, WebM, MOV, AVI
- **音声**: MP3, WAV, AAC, OGG
- **画像**: JPEG, PNG, WebP, GIF

### アップロード方法

#### ドラッグ&ドロップ

1. **メディアライブラリ** (右パネル) を開く
2. コンピューターからファイルをドラッグ
3. アップロード領域にドロップ
4. ファイルがアップロードされ、ライブラリに表示されます

#### ファイルブラウザ

1. メディアライブラリの**「メディアをアップロード」**をクリック
2. ファイルブラウザからファイルを選択
3. 複数のファイルを選択可能

### ファイル管理

- **重複検出**: 同一ファイルは自動的に検出
- **サムネイル**: 動画と画像のサムネイルを自動生成
- **メタデータ**: 再生時間、解像度、ファイルサイズを表示
- **整理**: アップロード日時順にファイルを一覧表示

---

## ⏱️ タイムライン編集

### タイムラインインターフェース

- **トラック**: 複数の並列トラック（追加/削除可、ロック対応）
- **ルーラー**: 秒単位で時間を表示、クリックでシーク、Mキーでマーカー追加
- **再生ヘッド**: 現在位置を示す赤いライン。ハンドルをドラッグするとスクラブ可能
- **ズーム**: Alt+ホイールでズームイン/アウト、プリセットから選択も可能
- **スナップ**: 近接クリップの境界に吸着（ヘッダの磁石アイコンでON/OFF）
- **トラックロック**: トラックの左ラベルでロック切替（ロック中はドラッグ不可）

### タイムラインへのメディア追加

1. **メディアライブラリ**を開く
2. 任意のメディアカードで**「タイムラインに追加」**をクリック
3. ファイルが最初の利用可能なトラックに表示
4. 重複を避けて自動配置

### エフェクトの移動

- **ドラッグ**: 任意のエフェクトブロックをクリックしてドラッグ
- **スナップ**: ON時は隣接エフェクトの開始/終了に吸着
- **トラック変更**: 垂直ドラッグでトラック変更（ロックトラックには移動不可）

### エフェクトのトリミング

1. エフェクトをクリックして選択
2. **左端**をドラッグして開始時間を調整
3. **右端**をドラッグして終了時間を調整
4. **最小再生時間**: 100msが強制されます

### エフェクトの分割

1. 分割したい位置に再生ヘッドを配置
2. 分割するエフェクトを選択
3. **「S」**キーを押すか**分割**ボタンをクリック
4. エフェクトが2つの別々のパートに分割されます

### 選択とマルチ選択

- **単一選択**: エフェクトをクリック
- **マルチ選択**: Ctrl/Cmd + クリックで複数のエフェクトを選択
- **ボックス選択**: ドラッグして選択ボックスを作成
- **選択解除**: タイムラインの空白領域をクリック

### マーカー

- **追加**: ルーラー上で M キー
- **移動**: マーカーをクリックするとその位置へシーク
- **用途**: 重要なシーンや編集ポイントの目印に

---

## ✏️ テキストオーバーレイ

### テキストの追加

1. **「テキストを追加」**ボタンをクリック (プレビューの左上)
2. テキストエディタパネルが右側に開きます
3. テキスト内容を入力
4. **「テキストを保存」**をクリックしてタイムラインに追加

### テキスト編集

- **内容**: テキストを入力または貼り付け
- **フォントファミリー**: システムフォントから選択
- **フォントサイズ**: 8pxから200px
- **カラー**: HEXカラーピッカーとプリセット
- **位置**: 正確な配置のためのX/Y座標

### テキストの配置

- **ドラッグ**: キャンバス上で直接テキストをクリックしてドラッグ
- **数値**: 正確なX/Y座標を入力
- **中央**: デフォルトの位置は画面中央

### 高度なテキストスタイル

テキストエディタで完全なスタイリングにアクセス:

- **フォントウェイト**: Normal, Bold等
- **フォントスタイル**: Normal, Italic, Oblique
- **整列**: 左, 中央, 右, 両端揃え
- **ストローク**: アウトラインの色と太さ
- **ドロップシャドウ**: 影効果
- **ワードラップ**: テキストの折り返しオプション

---

## 🎬 プレビューと再生

### 再生コントロール

- **再生/一時停止**: スペースバーまたは再生ボタン
- **停止**: 停止ボタン（先頭へ移動）
- **スクラビング**: ルーラー上の再生ヘッドをドラッグ
- **JKL**: J=1秒戻る、K=一時停止、L=再生

### リアルタイムプレビュー

- **60fps**: スムーズなリアルタイムレンダリング
- **WebGL**: PIXI.js経由のハードウェアアクセラレーション
- **自動更新**: 変更が即座に反映

### パフォーマンスモニタリング

- **FPSカウンター**: 実際のフレームレートを表示 (右上)
- **最適化**: 必要に応じてプレビュー品質を下げる

---

## 🎥 動画エクスポート

### エクスポートの開始

1. **「エクスポート」**ボタンをクリック (右上)
2. エクスポートダイアログが開きます
3. 品質設定を選択
4. **「エクスポート」**をクリックして開始

### 品質オプション

- **480p**: 854x480, 2 Mbps (高速エクスポート)
- **720p**: 1280x720, 4 Mbps (良好な品質)
- **1080p**: 1920x1080, 8 Mbps (高品質)
- **4K**: 3840x2160, 20 Mbps (最高品質)

### エクスポートプロセス

1. **準備中**: FFmpegエンジンをロード
2. **合成中**: 各フレームをレンダリング
3. **エンコード中**: 動画圧縮
4. **フラッシュ中**: 最終処理
5. **完了**: ファイルのダウンロード準備完了

### エクスポートの進捗

- **プログレスバー**: 全体の完了度
- **フレームカウンター**: 現在のフレーム / 合計フレーム
- **時間見積もり**: 残り時間 (概算)

### ダウンロード

- 完了時にファイルが自動ダウンロード
- **形式**: MP4 (H.264コーデック)
- **音声**: AACエンコーディング
- **互換性**: すべてのモダンデバイスで再生可能

---

## 💾 自動保存と復元

### 自動保存

- **間隔**: 変更後5秒ごと
- **デバウンス**: 1秒間の非アクティブを待機
- **ビジュアルインジケーター**: 左下に保存ステータス表示
- **アクション不要**: 完全自動

### 保存ステータスインジケーター

- **「保存済み」**: すべての変更がクラウドに保存済み
- **「保存中...」**: アップロード中
- **「エラー」**: 保存失敗 (自動リトライ)
- **「オフライン」**: インターネット接続なし

### オフラインモード

- **キュー**: オフライン時は変更をキューに保存
- **自動同期**: 接続が復元されたときにアップロード
- **信頼性**: 接続切断中もデータ損失なし

### セッション復元

- **ブラウザクラッシュ**: リロード時に復元を促す
- **未保存の変更**: 自動復元を提供
- **ユーザー選択**: 復元されたデータを保持または破棄

### 競合の解決

複数のタブで編集する場合:

1. **検出**: システムが競合する変更を検出
2. **ダイアログ**: 解決戦略を選択
3. **オプション**: ローカルを保持、リモートを受け入れ、または手動マージ

---

## ⌨️ キーボードショートカット

### 再生

- **スペース**: 再生/一時停止の切り替え
- **J**: 後方にシーク（1秒）
- **K**: 一時停止
- **L**: 再生
- **左矢印**: 後方にシーク（1秒）
- **右矢印**: 前方にシーク（1秒）
- **Shift + 左**: 後方にシーク（5秒）
- **Shift + 右**: 前方にシーク（5秒）
- **Home**: 開始位置に移動
- **End**: 終了位置に移動

### 編集

- **S**: 再生ヘッド位置で選択したエフェクトを分割
- **Delete/Backspace**: 選択したエフェクトを削除
- **Ctrl/Cmd + Z**: 元に戻す
- **Ctrl/Cmd + Shift + Z**: やり直す
- **Ctrl/Cmd + Y**: やり直す (代替)

### 選択

- **A**: すべてのエフェクトを選択
- **Ctrl/Cmd + A**: すべてのエフェクトを選択 (代替)
- **Escape**: 選択を解除

### タイムライン

- **+**: ズームイン
- **-**: ズームアウト
- **Alt + ホイール**: タイムラインをズーム
- **Ctrl/Cmd + 0**: タイムラインをウィンドウに合わせる

---

## 🔧 トラブルシューティング

### パフォーマンスの問題

#### 再生が遅い

- **原因**: 大きな動画ファイルまたはローエンドハードウェア
- **解決策**:
  - プレビュー品質を下げる
  - 他のブラウザタブを閉じる
  - より小さいソースファイルを使用

#### メモリ使用量が高い

- **原因**: 複数の大きなメディアファイル
- **解決策**:
  - ライブラリから未使用のメディアを削除
  - 定期的にブラウザを再起動
  - 4Kの代わりに720pを使用

### エクスポートの問題

#### エクスポートが失敗する

- **原因**: メモリ不足またはブラウザの制限
- **解決策**:
  - より低い品質設定を試す
  - 他のアプリケーションを閉じる
  - ブラウザを再起動して再試行

#### エクスポートに時間がかかりすぎる

- **原因**: 複雑なタイムラインまたは高解像度
- **解決策**:
  - まず低解像度でエクスポート
  - タイムラインを簡素化 (エフェクトを減らす)
  - 最高のパフォーマンスのためにChromeを使用

### アップロードの問題

#### ファイルがアップロードできない

- **原因**: サポートされていない形式またはネットワークの問題
- **解決策**:
  - ファイル形式がサポートされているか確認
  - インターネット接続を確認
  - まず小さいファイルを試す

#### サムネイルが表示されない

- **原因**: ブラウザでサポートされていない動画コーデック
- **解決策**:
  - 動画をMP4 (H.264) に変換
  - ファイルは編集には使用可能
  - サムネイルはエクスポート時に生成

### ブラウザの互換性

#### 機能が動作しない

- **Chrome**: 最高の互換性 (推奨)
- **Firefox**: 良好な互換性
- **Safari**: WebCodecsサポートに制限あり
- **Edge**: 良好な互換性

#### WebCodecsが利用できない

- **影響**: エクスポートパフォーマンスが遅い
- **解決策**: ハードウェアアクセラレーションのためにChromeを使用

### 自動保存の問題

#### 変更が保存されない

- **確認**: インターネット接続
- **確認**: Supabaseのステータス
- **解決策**: 小さな編集を行って手動保存

#### 同期の競合

- **原因**: 複数のタブで編集
- **解決策**: 競合解決オプションを選択
- **予防**: 単一のタブで編集

---

## 🆘 ヘルプを得る

### リソース

1. **クイックスタート**: [QUICK_START.md](./QUICK_START.md)
2. **プロジェクト構造**: [PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md)
3. **開発ガイド**: [docs/DEVELOPMENT_GUIDE.md](./docs/DEVELOPMENT_GUIDE.md)

### よくある解決策

- **ブラウザを更新**: ほとんどの一時的な問題を解決
- **キャッシュをクリア**: Ctrl/Cmd + Shift + R
- **ブラウザを更新**: 最新バージョンを確認
- **コンソールを確認**: F12 → コンソールでエラーメッセージを確認

### サポートチャンネル

- まずドキュメントを確認
- 既存のissueを検索
- バグを報告する際は以下を含める:
  - ブラウザバージョン
  - 再現手順
  - コンソールエラーメッセージ
  - 該当する場合はスクリーンショット

---

## 🎯 プロのヒント

### ワークフロー最適化

1. **まず計画**: メディアを整理してから開始
2. **キーボードを使用**: ショートカットで編集を高速化
3. **頻繁にプレビュー**: 作業を頻繁に確認
4. **エクスポートテスト**: まず低品質エクスポートを試す

### パフォーマンスのヒント

1. **Chromeブラウザ**: 最高のパフォーマンス
2. **タブを閉じる**: メモリ使用量を削減
3. **小さいファイル**: より高速なアップロードと処理
4. **段階的エクスポート**: 720pから始め、次に1080p

### 品質のヒント

1. **ソース品質**: 最高品質のソースファイルを使用
2. **一貫した形式**: 可能な限りMP4に統一
3. **テキストの読みやすさ**: 高コントラストの色を使用
4. **エクスポート解像度**: ターゲットプラットフォームに合わせる

---

**ProEditチーム**
**2024年10月15日**

楽しい編集を！ 🎬✨
